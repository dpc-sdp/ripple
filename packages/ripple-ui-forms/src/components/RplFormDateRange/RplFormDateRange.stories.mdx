import {
  Canvas,
  Meta,
  Story,
  ArgsTable
} from '@storybook/addon-docs'
import RplFormDateRange from './RplFormDateRange.vue'
import StorybookInputFixture from './../StorybookInputFixture/StorybookInputFixture.vue'
import '@dpc-sdp/ripple-ui-core/style/components'
import '../RplForm/RplForm.css'

export const SingleTemplate = (args) => ({
  components: { RplFormDateRange, StorybookInputFixture },
  setup() {
    return { args }
  },
  data: () => ({ currentValue: { } }),
  methods: {
    onChange: function(val) {
      this.currentValue = val
    }
  },
  template: `
    <StorybookInputFixture :invalid="args.invalid" :useFieldset="true">
      <RplFormDateRange v-bind="args" :value="currentValue" @onChange="onChange" />
    </StorybookInputFixture>
    <p :style="{marginTop: '60px'}" class="rpl-type-p"><strong>Output value (not part of component)</strong></p><pre>{{currentValue}}</pre>
  `
})

<Meta title='Forms/Date range' component={RplFormDateRange} args={{
  id: 'date-range',
}} />

# Forms

<ArgsTable of={RplFormDateRange} />

<Canvas>
  <Story
    name='Default'
    args={{
      id: 'date-range-default',
      variant: 'default',
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Reverse'
    parameters={{
      background: 'gray'
    }}
    args={{
      id: 'date-range-reverse',
      variant: 'reverse'
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Inactive'
    args={{
      id: 'date-range-inactive',
      variant: 'default',
      disabled: true
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Invalid'
    args={{
      id: 'date-range-invalid',
      variant: 'default',
      invalid: true
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Custom date format'
    args={{
      id: 'date-range-format',
      variant: 'default',
      dateFormat: 'yyyy/mm/dd'
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Block display'
    args={{
      id: 'date-range-display-block',
      display: 'block'
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>
